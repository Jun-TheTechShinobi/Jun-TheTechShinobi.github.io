<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>How to Harden AI Instances for Privacy and Security | Tech Shinobi</title>
<meta name="keywords" content="Ollama, Censys, Docker, Harbor, Streamlit, Gradio, telemetry, data collection, analytics, Browser, System Hardening">
<meta name="description" content="Background
Last month, Cisco researchers detected over 1,000 Ollama instances within the first 10 minutes using Shodan scanning on 11434 port. Other services such as vLLM/llama.cpp/LangChain on 8000, LM Studio on 1234, GPT4All on 4891, are also identified.
Later, Censys found 10.6K Ollama instances publicly available online, and 1.5K of these instances respond to prompts. That poses not only a great security risk of RCE, injection and poisoning, but also possible to expose private chat memory via unauthorized prompting.">
<meta name="author" content="Jun">
<link rel="canonical" href="https://techshinobi.org/posts/ai-privacy/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css" integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF&#43;13Dyqob6ASlTrTye8=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://techshinobi.org/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://techshinobi.org/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://techshinobi.org/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://techshinobi.org/apple-touch-icon.png">
<link rel="mask-icon" href="https://techshinobi.org/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://techshinobi.org/posts/ai-privacy/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><meta property="og:url" content="https://techshinobi.org/posts/ai-privacy/">
  <meta property="og:site_name" content="Tech Shinobi">
  <meta property="og:title" content="How to Harden AI Instances for Privacy and Security">
  <meta property="og:description" content="Background Last month, Cisco researchers detected over 1,000 Ollama instances within the first 10 minutes using Shodan scanning on 11434 port. Other services such as vLLM/llama.cpp/LangChain on 8000, LM Studio on 1234, GPT4All on 4891, are also identified.
Later, Censys found 10.6K Ollama instances publicly available online, and 1.5K of these instances respond to prompts. That poses not only a great security risk of RCE, injection and poisoning, but also possible to expose private chat memory via unauthorized prompting.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-10-18T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-10-18T00:00:00+00:00">
    <meta property="article:tag" content="Ollama">
    <meta property="article:tag" content="Censys">
    <meta property="article:tag" content="Docker">
    <meta property="article:tag" content="Harbor">
    <meta property="article:tag" content="Streamlit">
    <meta property="article:tag" content="Gradio">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="How to Harden AI Instances for Privacy and Security">
<meta name="twitter:description" content="Background
Last month, Cisco researchers detected over 1,000 Ollama instances within the first 10 minutes using Shodan scanning on 11434 port. Other services such as vLLM/llama.cpp/LangChain on 8000, LM Studio on 1234, GPT4All on 4891, are also identified.
Later, Censys found 10.6K Ollama instances publicly available online, and 1.5K of these instances respond to prompts. That poses not only a great security risk of RCE, injection and poisoning, but also possible to expose private chat memory via unauthorized prompting.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://techshinobi.org/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "How to Harden AI Instances for Privacy and Security",
      "item": "https://techshinobi.org/posts/ai-privacy/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "How to Harden AI Instances for Privacy and Security",
  "name": "How to Harden AI Instances for Privacy and Security",
  "description": "Background Last month, Cisco researchers detected over 1,000 Ollama instances within the first 10 minutes using Shodan scanning on 11434 port. Other services such as vLLM/llama.cpp/LangChain on 8000, LM Studio on 1234, GPT4All on 4891, are also identified.\nLater, Censys found 10.6K Ollama instances publicly available online, and 1.5K of these instances respond to prompts. That poses not only a great security risk of RCE, injection and poisoning, but also possible to expose private chat memory via unauthorized prompting.\n",
  "keywords": [
    "Ollama", "Censys", "Docker", "Harbor", "Streamlit", "Gradio", "telemetry", "data collection", "analytics", "Browser", "System Hardening"
  ],
  "articleBody": "Background Last month, Cisco researchers detected over 1,000 Ollama instances within the first 10 minutes using Shodan scanning on 11434 port. Other services such as vLLM/llama.cpp/LangChain on 8000, LM Studio on 1234, GPT4All on 4891, are also identified.\nLater, Censys found 10.6K Ollama instances publicly available online, and 1.5K of these instances respond to prompts. That poses not only a great security risk of RCE, injection and poisoning, but also possible to expose private chat memory via unauthorized prompting.\nTherefore, if an AI instance is used for handling sensitive information, it should always be hosted locally, perhaps as the same security level of a NAS—Ideally, within a hardened network—behind a hardware firewall such as pfSense/OPNsense, and block internet access with firewall rule or compartmentalized inside a VLAN with LAN-only ACL configuration.\nBut that might be too much for most AI enthusiasts who is less likely enthusiastic about networking, so I want to provide some easy solution to enhance their level of security and privacy.\nAs the mitigation section from the articles above stated, letting the service hosting on 0.0.0.0 is the main cause. Although, in most cases, as long as your server is behind a router, it should be isolated from listening to the internet by default. However, depending on your specific network environment, the service can be accidentally exposed to the internet in many ways.\nSo what we need is to change the address from listening requests from anywhere into a restricted network, i.e. LAN (192.168.x.x) or localhost (127.0.0.1) if you only use it on the server machine.\nI will not cover for Local AI engines like LM Studio, GPT4All, llama.cpp, Koboldcpp, Jan… They are meant to be used on localhost even if they have the ability to host as a server. These tools are able to run offline and can be secured by application firewalls like OpenSnitch or Portmaster.\nOllama Service First, let’s deal with Ollama. For anyone who installed their Ollama on Linux with scripts, you need to change the service configuration by sudo nano /etc/systemd/system/ollama.service.d/override.conf\n[Service] Environment=\"OLLAMA_HOST=192.168.x.x\" Just replace 0.0.0.0 with the actual ip addr of the server, then apply changes with\nsudo systemctl daemon-reload sudo systemctl restart ollama Now, your Ollama service is only reachable within your LAN, and nobody from the internet can get access to it.\nDocker/Harbor If your Ollama instance (or any other service) is hosted via docker, simply change -p 11434:11434 to -p 192.168.x.x:11435:11434 with your server ip when you start it up.\ndocker run -d --gpus=all -v ollama:/root/.ollama -p 192.168.x.x:11434:11434 --name ollama ollama/ollama In contrast, Harbor is more secure by default. You have to explicitly configure tunnels in order to get internet exposure.\nSo, by default, Harbor sets its urls as:\n$ harbor url ollama http://localhost:33821 $ harbor url --lan ollama http://192.168.x.x:33821 $ harbor url -i ollama http://harbor.ollama:11434 To see more details, run harbor config list | grep OLLAMA\nOLLAMA_CACHE ~/.ollama OLLAMA_HOST_PORT 33821 OLLAMA_VERSION latest OLLAMA_INTERNAL_URL http://ollama:11434 OLLAMA_DEFAULT_MODELS mxbai-embed-large:latest OLLAMA_CONTEXT_LENGTH 4096 HOLLAMA_HOST_PORT 33871 CHATUI_OLLAMA_MODEL llama3.1:8b Its internal url is configured as inside a docker intranet, theoretically already isolated from the internet. Although we can override it with a LAN ip by harbor config set ollama.internal_url http://192.168.x.x:11434, I don’t think that is really needed. Please let me know if anybody finds out hardening Harbor services are necessary.\nGradio Many python projects use Gradio as their webui, like Stable Diffusion and GPT-SoVITS. Although they usually do some hardening by default, but not always.\nI have been noticed and addressed Gradio’s privacy intrusion for quite a long time. Many Gradio apps have data collection (analytics/telemetry) enabled by default (no opt-in consent violates GDPR).\nSo, here is the way to run Gradio securely and make it respect user’s privacy:\nGRADIO_SHARE=False GRADIO_SERVER_NAME=192.168.x.x GRADIO_SERVER_PORT=7860 GRADIO_ANALYTICS_ENABLED=False DISABLE_TELEMETRY=1 python app.py Let’s break down the environment variables briefly.\nGRADIO_SHARE=False disables sharing a public URL like https://somethingrandom.gradio.live GRADIO_SERVER_NAME=192.168.x.x restricts the server as only reachable through LAN. Feel free to use 0.0.0.0 if your network is properly configured, and use the default value 127.0.0.1 for localhost usage. GRADIO_SERVER_PORT=7860 sets to default port. Change it to something else to avoid port scanning or for better port management. GRADIO_ANALYTICS_ENABLED=False disables the privacy intrusive activities. DISABLE_TELEMETRY=1 same as above, deprecated. Streamlit Another popular framework that many Whisper based projects are using is Streamlit, like subsai and VideoLingo. Many projects based on this WebUI are even worse by default settings, which not only collects privacy data without consent, but also exposes its service port publicly to the internet.\nHere is what I have been using:\nstreamlit run app.py --browser.gatherUsageStats false --server.port 8501 --browser.serverAddress 192.168.x.x --server.headless false These options are simpler to explain, browser.gatherUsageStats false disables the data collection and server.port sets the port number.\nBy default, you will get an unwanted External URL exposed to the public internet:\nNetwork URL: http://192.168.x.x:8501 External URL: http://xxx.xxx.xxx.xxx:8501 Pass either --browser.serverAddress 192.168.x.x or --server.headless false to mitigate the problem of External URL. You will get either one single URL or something like this after hardening:\nLocal URL: http://localhost:8501 Network URL: http://192.168.x.x:8501 Unfortunately, these options are not well documented although you can also put them into the config.toml file.\nSystem/Browser For other tools like vLLM and huggingface_hub, they have more dedicated options like VLLM_NO_USAGE_STATS=1 and HF_HUB_DISABLE_TELEMETRY=1, but also have more universal options like DO_NOT_TRACK=1.\nWhen we don’t need the portability of passing arguments, we can make those in common or essentials as default at the system level via nano ~/.bashrc\nexport GRADIO_SHARE=\"False\" export GRADIO_ANALYTICS_ENABLED=\"False\" export GRADIO_SERVER_NAME=\"192.168.x.x\" export TRANSFORMERS_OFFLINE=1 export DISABLE_TELEMETRY=1 export DO_NOT_TRACK=1 export HF_HUB_OFFLINE=1 export HF_DATASETS_OFFLINE=1 export HF_HUB_DISABLE_IMPLICIT_TOKEN=1 export HF_HUB_DISABLE_TELEMETRY=1 Then run source ~/.bashrc to apply the changes\nNote: In some cases, you need to put these options into a overriding file like .env, .sh, .toml, .json, .bat…\nThanks for u/campingtroll in this thread collecting all these options for privacy. Based on that, I added some more to harden the security aspect.\nBy this way, you can ensure those affected projects will respect your privacy and are isolated from the internet. You can always turn things on when needed.\nIn the end, always make sure the Linux Server itself is hardened properly (at least to the bare minimum), otherwise service/application level hardening is nonsensical shenanigans.\nWhile on the client side, choose a trustworthy browser which is dedicated for local WebUI services. Here is a rule of thumb:\nAvoid any proprietary browsers like Edge, Opera/Vivaldi (although they have some very nice features) and extensions/plugins. Less is more Avoid those backed by private company, even if they claim it’s for privacy or open source like Brave, DuckDuckGo, SRWare Iron, Comodo Dragon… Avoid Googled Chrome and vanilla Firefox, apply arkenfox or Betterfox if with existed Firefox Be cautious when choosing FOSS projects that are not well maintained, like Iridium, Mercury, r3dfox (although they are super cool and okay to use) Choose FOSS projects that are backed by an active community and pro-privacy like Ungoogled Chromium, LibreWolf, Waterfox, Thorium, supermium Choose old fashion FOSS projects with less feature/extensions like PaleMoon/Basilisk/SeaMonkey, IceCat, Otter, Midori (because they are awesome and most suitable for the purpose) ",
  "wordCount" : "1169",
  "inLanguage": "en",
  "datePublished": "2025-10-18T00:00:00Z",
  "dateModified": "2025-10-18T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "Jun"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://techshinobi.org/posts/ai-privacy/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Tech Shinobi",
    "logo": {
      "@type": "ImageObject",
      "url": "https://techshinobi.org/favicon.ico"
    }
  }
}
</script>
</head>

<body class=" dark" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://techshinobi.org/" accesskey="h" title="Tech Shinobi (Alt + H)">Tech Shinobi</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://techshinobi.org/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://techshinobi.org/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="https://techshinobi.org/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://techshinobi.org/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://techshinobi.org/">Home</a>&nbsp;»&nbsp;<a href="https://techshinobi.org/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      How to Harden AI Instances for Privacy and Security
    </h1>
    <div class="post-meta"><span title='2025-10-18 00:00:00 +0000 UTC'>October 18, 2025</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;Jun

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#background" aria-label="Background">Background</a></li>
                <li>
                    <a href="#ollama-service" aria-label="Ollama Service">Ollama Service</a></li>
                <li>
                    <a href="#dockerharbor" aria-label="Docker/Harbor">Docker/Harbor</a></li>
                <li>
                    <a href="#gradio" aria-label="Gradio">Gradio</a></li>
                <li>
                    <a href="#streamlit" aria-label="Streamlit">Streamlit</a></li>
                <li>
                    <a href="#systembrowser" aria-label="System/Browser">System/Browser</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h2 id="background">Background<a hidden class="anchor" aria-hidden="true" href="#background">#</a></h2>
<p>Last month, <a href="https://blogs.cisco.com/security/detecting-exposed-llm-servers-shodan-case-study-on-ollama">Cisco researchers detected over 1,000 Ollama instances</a> within the first 10 minutes using Shodan scanning on 11434 port. Other services such as vLLM/llama.cpp/LangChain on 8000, LM Studio on 1234, GPT4All on 4891, are also identified.</p>
<p>Later, <a href="https://censys.com/blog/ollama-drama-investigating-the-prevalence-of-ollama-open-instances-with-censys">Censys found 10.6K Ollama instances publicly available online, and 1.5K of these instances respond to prompts.</a> That poses not only a great security risk of RCE, injection and poisoning, but also possible to expose private chat memory via unauthorized prompting.</p>
<p>Therefore, if an AI instance is used for handling sensitive information, it should always be hosted locally, perhaps as the same security level of a NAS—Ideally, within a hardened network—behind a hardware firewall such as pfSense/OPNsense, and block internet access with firewall rule or compartmentalized inside a VLAN with LAN-only ACL configuration.</p>
<p>But that might be too much for most AI enthusiasts who is less likely enthusiastic about networking, so I want to provide some easy solution to enhance their level of security and privacy.</p>
<p>As the mitigation section from the articles above stated, letting the service hosting on <code>0.0.0.0</code> is the main cause. Although, in most cases, as long as your server is behind a router, it should be isolated from listening to the internet by default. However, depending on your specific network environment, the service can be accidentally exposed to the internet in many ways.</p>
<p>So what we need is to change the address from listening requests from anywhere into a restricted network, i.e. <code>LAN (192.168.x.x)</code> or <code>localhost (127.0.0.1)</code> if you only use it on the server machine.</p>
<p>I will not cover for Local AI engines like LM Studio, GPT4All, llama.cpp, Koboldcpp, Jan&hellip; They are meant to be used on localhost even if they have the ability to host as a server. These tools are able to run offline and can be secured by application firewalls like <a href="https://github.com/evilsocket/opensnitch">OpenSnitch</a> or <a href="https://safing.io/">Portmaster</a>.</p>
<h2 id="ollama-service">Ollama Service<a hidden class="anchor" aria-hidden="true" href="#ollama-service">#</a></h2>
<p>First, let&rsquo;s deal with Ollama. For anyone who installed their <a href="https://github.com/ollama/ollama/blob/main/docs/linux.mdx">Ollama on Linux with scripts</a>, you need to change the service configuration by <code>sudo nano /etc/systemd/system/ollama.service.d/override.conf</code></p>
<pre tabindex="0"><code>[Service]
Environment=&#34;OLLAMA_HOST=192.168.x.x&#34;
</code></pre><p>Just replace <code>0.0.0.0</code> with the actual <code>ip addr</code> of the server, then apply changes with</p>
<pre tabindex="0"><code>sudo systemctl daemon-reload
sudo systemctl restart ollama
</code></pre><p>Now, your Ollama service is only reachable within your LAN, and nobody from the internet can get access to it.</p>
<h2 id="dockerharbor">Docker/Harbor<a hidden class="anchor" aria-hidden="true" href="#dockerharbor">#</a></h2>
<p>If your Ollama instance (or any other service) is hosted via <a href="https://github.com/ollama/ollama/blob/main/docs/docker.mdx">docker</a>, simply change <code>-p 11434:11434</code> to <code>-p 192.168.x.x:11435:11434</code> with your server ip when you start it up.</p>
<pre tabindex="0"><code>docker run -d --gpus=all -v ollama:/root/.ollama -p 192.168.x.x:11434:11434 --name ollama ollama/ollama
</code></pre><p>In contrast, Harbor is more secure by default. You have to explicitly configure <a href="https://github.com/av/harbor/wiki/3.-Harbor-CLI-Reference#harbor-tunnels">tunnels</a> in order to get internet exposure.</p>
<p>So, by default, Harbor sets its urls as:</p>
<pre tabindex="0"><code>$ harbor url ollama
http://localhost:33821

$ harbor url --lan ollama
http://192.168.x.x:33821

$ harbor url -i ollama
http://harbor.ollama:11434
</code></pre><p>To see more details, run <code>harbor config list | grep OLLAMA</code></p>
<pre tabindex="0"><code>OLLAMA_CACHE                   ~/.ollama
OLLAMA_HOST_PORT               33821
OLLAMA_VERSION                 latest
OLLAMA_INTERNAL_URL            http://ollama:11434
OLLAMA_DEFAULT_MODELS          mxbai-embed-large:latest
OLLAMA_CONTEXT_LENGTH          4096
HOLLAMA_HOST_PORT              33871
CHATUI_OLLAMA_MODEL            llama3.1:8b
</code></pre><p>Its internal url is configured as inside a docker intranet, theoretically already isolated from the internet. Although we can override it with a LAN ip by <code>harbor config set ollama.internal_url http://192.168.x.x:11434</code>, I don&rsquo;t think that is really needed. Please let me know if anybody finds out hardening Harbor services are necessary.</p>
<h2 id="gradio">Gradio<a hidden class="anchor" aria-hidden="true" href="#gradio">#</a></h2>
<p>Many python projects use Gradio as their webui, like <a href="https://github.com/AUTOMATIC1111/stable-diffusion-webui">Stable Diffusion</a> and <a href="https://github.com/RVC-Boss/GPT-SoVITS">GPT-SoVITS</a>. Although they usually do some hardening by default, but not always.</p>
<p>I have been noticed and addressed <a href="https://reddit.com/r/StableDiffusion/comments/1f6asvd/gradio_sends_ip_address_telemetry_by_default/">Gradio&rsquo;s privacy intrusion</a> for quite a long time. Many Gradio apps have data collection (analytics/telemetry) enabled by default (no opt-in consent violates GDPR).</p>
<p>So, here is the way to run Gradio securely and make it respect user&rsquo;s privacy:</p>
<pre tabindex="0"><code>GRADIO_SHARE=False GRADIO_SERVER_NAME=192.168.x.x GRADIO_SERVER_PORT=7860 GRADIO_ANALYTICS_ENABLED=False DISABLE_TELEMETRY=1 python app.py
</code></pre><p>Let&rsquo;s break down the <a href="https://www.gradio.app/guides/environment-variables">environment variables</a> briefly.</p>
<ul>
<li><code>GRADIO_SHARE=False</code> disables sharing a public URL like <code>https://somethingrandom.gradio.live</code></li>
<li><code>GRADIO_SERVER_NAME=192.168.x.x</code> restricts the server as only reachable through LAN. Feel free to use <code>0.0.0.0</code> if your network is properly configured, and use the default value <code>127.0.0.1</code> for localhost usage.</li>
<li><code>GRADIO_SERVER_PORT=7860</code> sets to default port. Change it to something else to avoid port scanning or for better port management.</li>
<li><code>GRADIO_ANALYTICS_ENABLED=False</code> disables the privacy intrusive activities.</li>
<li><code>DISABLE_TELEMETRY=1</code> same as above, deprecated.</li>
</ul>
<h2 id="streamlit">Streamlit<a hidden class="anchor" aria-hidden="true" href="#streamlit">#</a></h2>
<p>Another popular framework that many Whisper based projects are using is Streamlit, like <a href="https://github.com/absadiki/subsai">subsai</a> and <a href="https://github.com/Huanshere/VideoLingo">VideoLingo</a>.  Many projects based on this WebUI are even worse by default settings, which not only collects privacy data without consent, but also exposes its service port publicly to the internet.</p>
<p>Here is what I have been using:</p>
<pre tabindex="0"><code>streamlit run app.py --browser.gatherUsageStats false --server.port 8501 --browser.serverAddress 192.168.x.x --server.headless false
</code></pre><p>These options are simpler to explain, <code>browser.gatherUsageStats false</code> disables the data collection and <code>server.port</code> sets the port number.</p>
<p>By default, you will get an unwanted <code>External URL</code> exposed to the public internet:</p>
<pre tabindex="0"><code>Network URL: http://192.168.x.x:8501
External URL: http://xxx.xxx.xxx.xxx:8501
</code></pre><p>Pass either <code>--browser.serverAddress 192.168.x.x</code> or <code>--server.headless false</code> to mitigate the problem of <code>External URL</code>. You will get either one single <code>URL</code> or something like this after hardening:</p>
<pre tabindex="0"><code>Local URL: http://localhost:8501
Network URL: http://192.168.x.x:8501
</code></pre><p>Unfortunately, these options are <a href="https://docs.streamlit.io/develop/api-reference/configuration/config.toml">not well documented</a> although you can also put them into the <code>config.toml</code> file.</p>
<h2 id="systembrowser">System/Browser<a hidden class="anchor" aria-hidden="true" href="#systembrowser">#</a></h2>
<p>For other tools like <a href="https://docs.vllm.ai/en/latest/usage/usage_stats.html">vLLM</a> and <a href="https://huggingface.co/docs/huggingface_hub/en/package_reference/environment_variables">huggingface_hub</a>, they have more dedicated options like <code>VLLM_NO_USAGE_STATS=1</code> and <code>HF_HUB_DISABLE_TELEMETRY=1</code>, but also have more universal options like <code>DO_NOT_TRACK=1</code>.</p>
<p>When we don&rsquo;t need the portability of passing arguments, we can make those in common or essentials as default at the system level via <code>nano ~/.bashrc</code></p>
<pre tabindex="0"><code>export GRADIO_SHARE=&#34;False&#34;
export GRADIO_ANALYTICS_ENABLED=&#34;False&#34;
export GRADIO_SERVER_NAME=&#34;192.168.x.x&#34;
export TRANSFORMERS_OFFLINE=1
export DISABLE_TELEMETRY=1
export DO_NOT_TRACK=1
export HF_HUB_OFFLINE=1
export HF_DATASETS_OFFLINE=1
export HF_HUB_DISABLE_IMPLICIT_TOKEN=1
export HF_HUB_DISABLE_TELEMETRY=1
</code></pre><p>Then run <code>source ~/.bashrc</code> to apply the changes</p>
<p>Note: In some cases, you need to put these options into a overriding file like <code>.env</code>, <code>.sh</code>, <code>.toml</code>, <code>.json</code>, <code>.bat</code>&hellip;</p>
<p>Thanks for <code>u/campingtroll</code> in <a href="https://redlib.privacyredirect.com/r/StableDiffusion/comments/1f6asvd/gradio_sends_ip_address_telemetry_by_default/">this thread</a> collecting all these options for privacy. Based on that, I added some more to harden the security aspect.</p>
<p>By this way, you can ensure those affected projects will respect your privacy and are isolated from the internet. You can always turn things on when needed.</p>
<p>In the end, always make sure the <a href="https://github.com/imthenachoman/How-To-Secure-A-Linux-Server">Linux Server itself is hardened</a> properly (at least to the bare minimum), otherwise service/application level hardening is nonsensical shenanigans.</p>
<p>While on the client side, choose a trustworthy browser which is dedicated for local WebUI services. Here is a rule of thumb:</p>
<ul>
<li>Avoid any proprietary browsers like Edge, Opera/Vivaldi (although they have some very nice features) and extensions/plugins. Less is more</li>
<li>Avoid those backed by private company, even if they claim it&rsquo;s for privacy or open source like Brave, DuckDuckGo, SRWare Iron, Comodo Dragon&hellip;</li>
<li>Avoid Googled Chrome and vanilla Firefox, apply <a href="https://github.com/arkenfox/user.js">arkenfox</a> or <a href="https://github.com/yokoffing/Betterfox">Betterfox</a> if with existed Firefox</li>
<li>Be cautious when choosing FOSS projects that are not well maintained, like Iridium, Mercury, r3dfox (although they are super cool and okay to use)</li>
<li>Choose FOSS projects that are backed by an active community and pro-privacy like <a href="https://github.com/ungoogled-software/ungoogled-chromium">Ungoogled Chromium</a>, <a href="https://librewolf.net/">LibreWolf</a>, <a href="https://www.waterfox.net/">Waterfox</a>, <a href="https://github.com/Alex313031/Thorium">Thorium</a>, <a href="https://github.com/win32ss/supermium">supermium</a></li>
<li>Choose old fashion FOSS projects with less feature/extensions like PaleMoon/Basilisk/SeaMonkey, IceCat, Otter, Midori (because they are awesome and most suitable for the purpose)</li>
</ul>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://techshinobi.org/tags/ollama/">Ollama</a></li>
      <li><a href="https://techshinobi.org/tags/censys/">Censys</a></li>
      <li><a href="https://techshinobi.org/tags/docker/">Docker</a></li>
      <li><a href="https://techshinobi.org/tags/harbor/">Harbor</a></li>
      <li><a href="https://techshinobi.org/tags/streamlit/">Streamlit</a></li>
      <li><a href="https://techshinobi.org/tags/gradio/">Gradio</a></li>
      <li><a href="https://techshinobi.org/tags/telemetry/">Telemetry</a></li>
      <li><a href="https://techshinobi.org/tags/data-collection/">Data Collection</a></li>
      <li><a href="https://techshinobi.org/tags/analytics/">Analytics</a></li>
      <li><a href="https://techshinobi.org/tags/browser/">Browser</a></li>
      <li><a href="https://techshinobi.org/tags/system-hardening/">System Hardening</a></li>
    </ul>
<nav class="paginav">
  <a class="next" href="https://techshinobi.org/posts/ddwrt-mr7350/">
    <span class="title">Next »</span>
    <br>
    <span>Flashing DD-WRT into a Linksys MR7350 with Basic Hardening</span>
  </a>
</nav>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share How to Harden AI Instances for Privacy and Security on x"
            href="https://x.com/intent/tweet/?text=How%20to%20Harden%20AI%20Instances%20for%20Privacy%20and%20Security&amp;url=https%3a%2f%2ftechshinobi.org%2fposts%2fai-privacy%2f&amp;hashtags=Ollama%2cCensys%2cDocker%2cHarbor%2cStreamlit%2cGradio%2ctelemetry%2cdatacollection%2canalytics%2cBrowser%2cSystemHardening">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share How to Harden AI Instances for Privacy and Security on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2ftechshinobi.org%2fposts%2fai-privacy%2f&amp;title=How%20to%20Harden%20AI%20Instances%20for%20Privacy%20and%20Security&amp;summary=How%20to%20Harden%20AI%20Instances%20for%20Privacy%20and%20Security&amp;source=https%3a%2f%2ftechshinobi.org%2fposts%2fai-privacy%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share How to Harden AI Instances for Privacy and Security on reddit"
            href="https://reddit.com/submit?url=https%3a%2f%2ftechshinobi.org%2fposts%2fai-privacy%2f&title=How%20to%20Harden%20AI%20Instances%20for%20Privacy%20and%20Security">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share How to Harden AI Instances for Privacy and Security on facebook"
            href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2ftechshinobi.org%2fposts%2fai-privacy%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share How to Harden AI Instances for Privacy and Security on whatsapp"
            href="https://api.whatsapp.com/send?text=How%20to%20Harden%20AI%20Instances%20for%20Privacy%20and%20Security%20-%20https%3a%2f%2ftechshinobi.org%2fposts%2fai-privacy%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share How to Harden AI Instances for Privacy and Security on telegram"
            href="https://telegram.me/share/url?text=How%20to%20Harden%20AI%20Instances%20for%20Privacy%20and%20Security&amp;url=https%3a%2f%2ftechshinobi.org%2fposts%2fai-privacy%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share How to Harden AI Instances for Privacy and Security on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=How%20to%20Harden%20AI%20Instances%20for%20Privacy%20and%20Security&u=https%3a%2f%2ftechshinobi.org%2fposts%2fai-privacy%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://techshinobi.org/">Tech Shinobi</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
