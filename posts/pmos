---
title: "Nokia N900, postmarketOS and Ideology"
tags: ["linux","ideology","postmarketOS","custom","alpine","nostalgia"]
categories: ["Linux","Ideology"]
date: "2022-10-10"
#description: "subtitle"
#summary: "try a difference"
#series: ["standby"]
#aliases: ["standby"]
---

## 00x0 Before Start

Recently, I just gave my iPhone 4S away. This phone runs smoothly with jailbreak iOS 6.1.3. It was siting in my nostalgia box for years and has never been my daily driver.

Back in time, I was a big fun of Motorola Milestone/Droid series and my main phone was the last of these QWERTY phones, Photon Q (XT897). Its keyboard was fantastic and CyanogenMod 11 (Android 4.4 KitKat) with XPosed framework was perfect in both productivity and aesthetics. 

My final QWERTY phone is Nokia N900 since Motorola no longer making them. This is a phone from 2009 but I bought it after my Photon Q was broken. It was cheap compare to [Neo900](https://neo900.org/) and runs Maemo 5 or other open-source systems such as Firefox Mobile, Ubuntu and Kali Linux. Speaking of Neo900, it makes me remember the [X62, a ThinkPad Mod](https://www.notebookcheck.net/X62-Laptop-Review.211598.0.html).

I don't like to mod hardware just to keep up with the software, I'd prefer the opposite.

I really like the idea from [cheapskatesguide](https://cheapskatesguide.org/articles/know-what-youre-buying.html) and [lowtechmagazine](https://solar.lowtechmagazine.com/2020/12/how-and-why-i-stopped-buying-new-laptops.html) that could save people from the pitfalls of consumerism. Moreover, to me it's not about saving money on technology nor certain simple living lifestyles. This is a manifestation of ideology, the way of pursuing freedom.



## 00x1 Maemo 5 Factory Reset

This step is optional but I'd prefer to have a clean, latest base system to start with.

The [official guide](https://wiki.maemo.org/Updating_the_firmware#N900) is very well written but those download links are already down.

I found [maemo flasher 3.5 from github](https://github.com/z/n900-notes) with additional useful information and [firmware files](https://www.fladnag.net/downloads/telephone/n900/), also its [archive](https://web.archive.org/web/20131117073524/http://skeiron.org/tablets-dev/nokia_N900/).

With the flasher tool and two .bin files, I can follow [this guide](http://mynokiablog.com/2010/01/03/how-to-hard-reset-nokia-n900/) to perform the reset/upgrade.

```
flasher-3.5 -F RX-51_2009SE_10.2010.19-1_PR_COMBINED_MR0_ARM.bin -f

flasher-3.5 -F RX-51_2009SE_10.2010.13-2.VANILLA_PR_EMMC_MR0_ARM.bin -f -R
```

## 00x2 Flashing postmarketOS 

---

I used the [SD card method](https://wiki.postmarketos.org/wiki/Nokia_N900_(nokia-n900)#Installation) and downloaded the image file from [official site](https://images.postmarketos.org/bpo/edge/nokia-n900/i3wm/).

After checksum, I need to use `lsblk` to find and edit the `dd ` target `/dev/sdx`.

```
sha512sum 20221005-1522-postmarketOS-edge-i3wm-0.3-nokia-n900.img.xz 

xzcat 20221005-1522-postmarketOS-edge-i3wm-0.3-nokia-n900.img.xz | sudo dd of=/dev/sdx status=progress bs=1M
```

While flashing the SD card, I can prepare the [root access on Maemo](https://wiki.maemo.org/Root_access) by `Open App manager - Update - Download - System - Sudser` , this needs Wi-Fi connection.

Either *Sudser* or *rootsh* would work, and they need "Extras repository" to download. Which should be already included with the latest firmware `RX-51_2009SE_10.2010.xx`.

In case of adding *Extras* manually, `Open App manager - Click title bar drop-down menu - Application catalogues - New` and [input these](https://www.my-maemo.com/faq/showquestion_faq_4_fldAuto_16.html) then `Update`:

```
Catalogue name: Extras
Web address: http://repository.maemo.org/extras/
Distribution: fremantle
Components: free non-free
```

## 00x3 Boot into U-Boot

Now, power off, put the SD card with fresh postmarketOS into the phone and turn back on Maemo, Open X terminal and execute:

```
sudo apt-get install u-boot-flasher
```

If *Sudser* was installed properly, `sudo` command should go through without password prompt. 

After installation of [u-boot](https://talk.maemo.org/showthread.php?t=81613), configure the *entry menu* by `sudo vi /etc/bootmenu.d/10-pmos.item`

```
ITEM_NAME="postmarketOS"
ITEM_SCRIPT="boot.scr"
ITEM_DEVICE="${EXT_CARD}p1"
ITEM_FSTYPE="ext2"
```

Create link

```
sudo ln -s /etc/bootmenu.d/10-pmos.item /etc/default/bootmenu.item
```

Update changes

```
u-boot-update-bootmenu
```

Finally, reboot the phone into the *U-boot bootloader menu* and boot postmarketOS.

## 00x4 Usage of postmarketOS

Like the official wiki, there are [other articles](https://posts.oztamir.com/running-postmarketos-on-a-nokia-n900/) about N900 with pmOS but solely focuses on installation rather than post-installation. People on YouTube either frustrated by stucking at the i3wm wallpaper or showing off their magical techniques. **I like freedom and openess, not gatekeeping**. This is the motivation behind this post.

![keymap](https://wiki.postmarketos.org/images/e/e1/N900_keymap_us.jpg)

The **blue arrow key** in combination with the **Volume Up/Down** to switch to a different virtual terminal. Combine with **Enter key** is Tab, with **Backspace key** is Escape, these would come handy with command-line.

Here are some basic techniques of i3wm from [the official wiki page](https://wiki.postmarketos.org/wiki/Nokia_N900_(nokia-n900)#GUI). It's more efficient than common desktop environments on such a constrained device.

```
default mode
shift + space: switch to "command mode"
command mode
t: open terminal
k: kill current program
w: workspace mode
r: restart i3wm (use after modifying the config)
q: go back to "default mode"
workspace mode
a/s/d/f/g: switch to workspace 1/2/3/4/5
q: go back to "command mode"
```

Default Login, which can be used for local virtual terminal / text console or [remote SSH](https://wiki.postmarketos.org/wiki/SSH).

```
username: user
password: 147147
```

First thing to do is to say good-bye to the wallpaper by opening a terminal:

`shift + space` type `t` then `Enter`

For security and convenience, change the default password

```
sudo passwd user
```

Connect to Wi-Fi, run `nmtui` then select "Activate a connection"

```
sudo nmtui
```

Set up date and time

```
sudo date -s "2022-10-xx xx:xx:xx"
sudo hwclock -w
```

Start SSH daemon

```
sudo service sshd start
```

From now on, it's easier to continue with SSH **on a relative larger computer**

```
ssh 192.168.x.xxx -l user
#from now on, commands run from a remote computer, not on the phone
#check ip from the top right of status bar
```

While checking the update, I got [BAD Signature errors](https://gitlab.alpinelinux.org/alpine/aports/-/issues/12224)

```
sudo apk update
```

Fixing it by  `sudo vi /etc/apk/repositories`, change content as below:

```
https://mirror.postmarketos.org/postmarketos/master/
https://dl-cdn.alpinelinux.org/alpine/latest-stable/main/
https://dl-cdn.alpinelinux.org/alpine/latest-stable/community/
```



## 00x5 Post-installation Softwares

Web browser is considered essential in my use case. There are [many options](https://wiki.postmarketos.org/wiki/Web_browsers) and [a out-dated test review video](https://www.youtube.com/watch?v=dZ9i7AQvVrw) as a reference. I did my own test anyway, that `netsurf` is the fastest one for simple web pages and `midori` is the only working one for "modern"(heavy) web pages.

There are also [text-based browsers](https://wiki.archlinux.org/title/List_of_applications/Internet#Console) like vimb, w3m and lynx. No need to be limited by the [application list on pmOS wiki](https://wiki.postmarketos.org/wiki/Applications_by_category), Arch Linux wiki is always my best friend.

```
sudo apk add xxx
```

flatpak repo provides many up-to-date applications although I didn't find a need for that.

```
sudo apk add flatpak

flatpak remote-add --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo
```

There are other tools that are useful to me, such as a GUI-based file manager, text editor and process manager. I don't depend on CLI tools with a device that has screen.

```
sudo apk add nemo gedit htop
```

To run the installed tools, simply enter its package name e.g. `gedit` **in the terminal of the phone end**.

`postmarketos-tweaks` seems useful but in fact it's not for N900. Run it with`pmos-tweaks` instead of its full name. 

Sometimes I get `connection aborted/ IO error` when using `sudo apk add`, So I have to retry multiple times. Using `sudo apk fetch` instead may work better, or troubleshooting the network.

It maybe interesting to try install `xfce4` on N900 but I feel good with i3wm for now.

After installing everything, clean up the cache either by

```
sudo apk -v cache clean
```

or

```
sudo rm -rf /var/cache/apk/*
```

Then check the storage usage

```
df -h
```

I'm using a good old humble 4GB Toshiba Class-4. It works reliably with adequate speed for N900.

By far, the post-installation is complete, less than 2GB of my SD card was used. Everything looks good and it's ready to work whenever I need it.



[quitesimple](https://quitesimple.org/page/NokiaN900) even has more toys like puting LUKS encryption onto N900. 

For me, this phone will not be a tiny server nor a open-source media player, although it can be. As I said [at the beginning](# 00x0 Before Start), it is not about making use of the phone, my skill nor even Linux.












